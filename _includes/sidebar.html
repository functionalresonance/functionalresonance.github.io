<div class="col-12 col-sm-3 col-xl-2">
    <nav class="nav flex-column nav-pills sticky-top" id="menu">

        <a class="nav-link {% if page.name == 'index.md' %}active{% endif %}" href="/index.html">Home</a>

        {% for listpage in site.pages %}

            {% if listpage.name contains ".md" and listpage.name != 'index.md' %}
            <p>{{ listpage.name }}</p>
            {% assign parent = page.name | split: "~" | first | remove: ".md" %}
            <p>{{ parent }}</p>
                {% unless listpage.name contains "~" %}
                    <a class="nav-link {% if page.name == listpage.name %}active{% endif %}" href="/{{ listpage.name | remove: '.md' }}.html">{{ listpage.title }}</a>
                {% else %}
                    {% if listpage.name contains parent %}
                        <a class="nav-link {% if page.name == listpage.name %}active{% endif %}" href="/{{ listpage.name | remove: '.md' }}.html"> &bullet; {{ listpage.title }}</a>
                    {% endif %}
                {% endunless %}
            {% endif %}

        {% endfor %}

    </nav>
</div>